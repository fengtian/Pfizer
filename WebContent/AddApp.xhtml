<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://java.sun.com/jsf/core"
      >
      
	<h:head>
        <title>New Appointment</title>
        <meta charset="utf-8"></meta>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"></link>
    </h:head>
    
    <h:body>
    <h:form>
    <h:commandButton action="Appointment" value="Back"></h:commandButton><br></br>
    <h:commandButton value="Refresh" actionListener="#{selectTimeView.refreshAvailableSlots}"></h:commandButton>
    
    <br></br>
    </h:form>
    
   <h:form>
   Selected Doctor:
   	<h:outputText value="#{selectTimeView.selectedDoctor}"></h:outputText><br></br>
   
    <p:messages autoUpdate="true" />
 
    <h:panelGrid columns="2" style="margin-bottom:10px" cellpadding="5">
        
 
        <p:outputLabel for="doctor" value="Select a doctor: " />
        <p:selectOneMenu id="doctor" value="#{selectTimeView.selectedDoctor}" onchange="submit()" valueChangeListener="#{selectTimeView.docNameValueChangeMethod}">
            <f:selectItem itemLabel="Select One" itemValue="" />
            <f:selectItems value="#{selectTimeView.doctors}" />
        </p:selectOneMenu>
 
        <p:outputLabel for="slots" value="Select one slot: " />
        <p:selectOneMenu id="slots" value="#{selectTimeView.selectedSlot}"  valueChangeListener="#{selectTimeView.slotValueChangeMethod}">
            <f:selectItem itemLabel="Select One" itemValue="" />
            <f:selectItems value="#{selectTimeView.slots}" />
        </p:selectOneMenu>
        
        <p:outputLabel for="type" value="Select appointment type: " />
        <p:selectOneMenu id="type" value="#{selectTimeView.type}"   valueChangeListener="#{selectTimeView.typeValueChangeMethod}">
            <f:selectItem itemLabel="Select One" itemValue="" />
            <f:selectItem itemLabel="Company Medical" itemValue="Company Medical" />
            <f:selectItem itemLabel="Insurance Medical" itemValue="Insurance Medical" />
            <f:selectItem itemLabel="General Consulation" itemValue="General Consulation" />
        </p:selectOneMenu>
        
        <h:outputLabel for="syn" value="Synopsis" style="font-weight:bold"/>
            <p:inputTextarea id="syn" value="#{selectTimeView.synopsis}"  valueChangeListener="#{selectTimeView.synopsisValueChangeMethod}">
            </p:inputTextarea>
            
         <p:outputLabel for="patients" value="Select a patient: " />
        <p:selectOneMenu id="patients" value="#{selectTimeView.selectedPatient}"  filter="true" filterMatchMode="contains"  valueChangeListener="#{selectTimeView.patientValueChangeMethod}">
            <f:selectItem itemLabel="Select One" itemValue="" />
            <f:selectItems value="#{selectTimeView.patients}" />
        </p:selectOneMenu>
        
        
 

            
        
    </h:panelGrid>
    <p:commandButton value="Submit" actionListener="#{selectTimeView.submitButtonListner}" />	
 
 
</h:form>

 <h:form>
    <h:commandButton action="AddPatient" value="Add a new Patient"></h:commandButton><br></br>
    <br></br>
    </h:form>
    
    </h:body>
    </html>