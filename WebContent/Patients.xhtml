<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"  
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:ui="http://java.sun.com/jsf/facelets"
      xmlns:f="http://java.sun.com/jsf/core"
      >
      
	<h:head>
        <title>Patients</title>
        <meta charset="utf-8"></meta>
  <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.4/css/bootstrap.min.css"></link>
    </h:head>
    
    <h:body>
    <h:form id="form1">   
    <p:commandButton value="Search Patients" actionListener="#{pc.searchPatientsForm}">
    	<p:ajax event="dialogReturn" listener="#{pc.handleSelectedPatient}" update="PatientDetails">
    	</p:ajax>
    </p:commandButton>
    
    <br></br>
    <br></br>
    
    <h:panelGrid id="PatientDetails" columns="2">
    	<h:outputLabel value="ID: "></h:outputLabel>
    	<h:outputText value="#{pc.selectedPatient.id}"></h:outputText>
    	
    	<h:outputLabel value="First Name: "></h:outputLabel>
    	<h:outputText value="#{pc.selectedPatient.fname}"></h:outputText>
    	
    	<h:outputLabel value="Last Name: "></h:outputLabel>
    	<h:outputText value="#{pc.selectedPatient.lname}"></h:outputText>
    	
    	<h:outputLabel value="Date of Birth: "></h:outputLabel>
    	<h:outputText value="#{pc.selectedPatient.dob}"></h:outputText>
    	
    	<h:outputLabel value="History: "></h:outputLabel>
    	<p:link  value="Medical History" outcome="History"></p:link>
    	
    	
       
    
    <br></br>
    <br></br> 
    </h:panelGrid>
    <p:link  value="Add New Patient" outcome="AddPatient"></p:link>
    <br></br>
    <br></br> 
   	<p:commandButton value="Delete this patient" actionListener="#{pc.delete}" update="form1"></p:commandButton>
    <br></br>
    <br></br>
    
    <p:commandButton value="Search this Patient's Appointment" actionListener="#{pc.searchAppForm}" >	
    <p:ajax event="dialogReturn" 
         listener="#{pc.handleSeletedApp}"/>
    </p:commandButton>       
     <br></br>
    <br></br>
    <p:link value="Show selected appointment report" outcome="AppDetail"></p:link>
     <br></br>
    <br></br>
    <br></br>
    </h:form>
    </h:body>
    </html>
    